<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>User</title>
    <link rel="stylesheet" th:href="@{/styles.css}">
</head>
<body>
<div class="frame">
    <h1>User</h1>
    <!-- User Edit Form -->
    <form id="user-edit-form" th:action="@{/user/{userId}(userId=${user.userId})}" method="post">
        <fieldset>
            <legend>User Details</legend>
            <label for="username">Username:</label><br>
            <input id="username" type="text" th:field="${user.username}" /><br>

            <label for="password">Password:</label><br>
            <input id="password" type="password" th:field="${user.password}" /><br>

            <label for="full-name">Full Name:</label><br>
            <input id="full-name" type="text" th:field="${user.name}" /><br>
        </fieldset>

        <fieldset>
            <legend>Address</legend><br>
            <label for="address-line1">Address Line 1:</label><br>
            <input id="address-line1" type="text" th:field="${address.addressLine1}" /><br>

            <label for="address-line2">Address Line 2:</label><br>
            <input id="address-line2" type="text" th:field="${address.addressLine2}" /><br>

            <label for="city">City:</label><br>
            <input id="city" type="text" th:field="${address.city}" /><br>

            <label for="region">Region:</label><br>
            <input id="region" type="text" th:field="${address.region}" /><br>

            <label for="country">Country:</label><br>
            <input id="country" type="text" th:field="${address.country}" /><br>

            <label for="zip-code">Zip Code:</label><br>
            <input id="zip-code" type="text" th:field="${address.zipCode}" /><br>
        </fieldset>

        <div class="form-actions">
            <button type="submit" class="big-button">Update User</button>
        </div>
    </form>

    <!-- Delete User Form -->
    <form th:action="@{/user/{userId}/delete(userId=${user.userId})}" method="post">
        <button type="submit" class="big-button danger">Delete User</button>
    </form>

    <!-- User Accounts Section -->
    <hr>
    <h1>Accounts</h1>

        <div th:each="account : ${user.accounts}">
            <a th:href="@{/user/{userId}/accounts/{accountId} (userId=${user.userId}, accountId=${account.accountId})}">
                [[${account.accountName}]]
            </a>
        </div>


    <!-- Other Actions -->
    <div class="actions">
        <form th:action="@{/user/{userId}/accounts (userId=${user.userId})}" method="post" class="inline-form">
            <button type="submit" class="big-button">Create Account</button>
        </form>
        <form th:action="@{/users}" method="get" class="inline-form">
            <button type="submit" class="big-button">User Page</button>
        </form>
    </div>
</div>

<script>
    // Pop-up message for confirmation of user input
    document.getElementById("user-edit-form").addEventListener("submit", function () {
        alert("Form submitted successfully!");
    });
</script>
</body>
</html>